/*!
 * ----------------------------------------------------------
 *  HTML TEXT EDITOR PLUGIN 1.1.0
 * ----------------------------------------------------------
 * Author: Taufik Nurrohman <http://latitudu.com>
 * Licensed under the MIT license.
 *
 * REQUIRES:
 * ==========================================================
 * [1]. https://github.com/tovic/simple-text-editor-library
 * [2]. https://fortawesome.github.io/Font-Awesome/icons
 * ==========================================================
 * ----------------------------------------------------------
 *
 */

var HTE=function(e,t){function n(e,t){e=e||{};for(var l in t)e[l]="object"==typeof t[l]?n(e[l],t[l]):t[l];return e}function l(e,t){var n=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),l=0;return l=A.defaultView&&A.defaultView.getComputedStyle?A.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.style[n]}function i(e,t){return j(e,function(){J(t.end+1,Z)}),!1}function r(e){return e.replace(/^\s+|\s+$/g,"")}function o(e){return e.replace(/^\s+/,"")}function c(e){return e.replace(/\s+$/,"")}function a(e){return e.replace(K.escape,"\\$1")}function u(e,t){var n,l=X(),i=e,r=tt.LI,o=i.split(" ")[0],c=r.split(" ")[0];l.value.length>0?l.value==t?J(l.start,l.end):j("<"+i+">\n"+tt.tabSize+"<"+r+">"+l.value.replace(/\n/g,"</"+c+">\n"+tt.tabSize+"<"+r+">").replace(RegExp("\\n("+tt.tabSize+")?<"+r+"><\\/"+c+">\\n","g"),"\n</"+o+">\n\n<"+i+">\n")+"</"+c+">\n</"+o+">"):j("<"+i+">\n"+tt.tabSize+"<"+r+">"+t+"</"+c+">\n</"+o+">",function(){n=l.start+1+i.length+2+tt.tabSize.length+1+r.length+1,J(n,n+t.length,Z)})}void 0!==t.prompt&&(t.prompts=t.prompt),void 0!==t.placeholder&&(t.placeholders=t.placeholder);var s="\u2018",f="\u2019",p="\u201C",d="\u201D",g="\u2013",h="\u2014",m="\u2026",v="\u00A6",x="\u00A9",b="\u2117",k="\u2120",y="\u2122",E="\u00AE",C="\u00B1",_="\u00F7",L="\u00B0",T="\u2039",$="\u203A",O="\u00AB",R="\u00BB",H="\u2264",M="\u2265",S="\u2260",w="\u2190",I="\u2192",U="\u2191",P="\u2193",N="\u21B5",z=this,B=window,A=document,K=new Editor(e),D={tabSize:"    ",toolbar:!0,shortcut:!1,toolbarClass:"editor-toolbar",toolbarPosition:"before",buttonClassPrefix:"editor-toolbar-button editor-toolbar-button-",iconClassPrefix:"fa fa-",emptyElementSuffix:">",autoEncodeHTML:!0,P:"p",BR:"br",H_:"h%d",STRONG:"strong",EM:"em",U:"u",STRIKE:'del datetime="%Y-%m-%d"',UL:"ul",OL:"ol",LI:"li",HR:"hr",QUOTE:"q",BLOCKQUOTE:"blockquote",CODE:"code",PRE:"pre",SUB:"sub",SUP:"sup",A:"a",IMG:"img",buttons:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel",open:"Open",close:"Close",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",superscript:"Superscript",subscript:"Subscript",code:"Code",paragraph:"Paragraph",quote:"Quote",heading:"H1 "+g+" H6",link:"Link",image:"Image",ol:"Ordered List",ul:"Unordered List",rule:"Horizontal Rule",undo:"Undo",redo:"Redo"},prompts:{link_title:"link title goes here"+m,link_title_title:"Link Title",link_url:"http://",link_url_title:"Link URL",image_url:"http://",image_url_title:"Image URL"},placeholders:{text:"text goes here"+m,heading_text:"Heading",link_text:"link text",list_ul_text:"List Item",list_ol_text:"List Item",image_alt:"Image"},keydown:function(){},click:function(){},ready:function(){}},q=A.createElement("div"),Y=A.createElement("div"),V=function(){},G=e,Q=K.indent,j=K.insert,F=K.outdent,W=K.replace,J=K.select,X=K.selection,Z=K.updateHistory,et=K.wrap,tt=n(D,t),nt=A.createElement("span"),lt=a(tt.tabSize),it=a(tt.P.split(" ")[0]),rt=a(tt.LI.split(" ")[0]);z.modal=function(e,t){e=e||"modal";var n=A.body,l=n.scrollTop||A.documentElement.scrollTop;q.className="custom-modal-overlay custom-modal-"+e+"-overlay",q.onclick=function(){z.close(!0)},Y.className="custom-modal custom-modal-"+e,Y.innerHTML='<div class="custom-modal-header custom-modal-'+e+'-header"></div><div class="custom-modal-content custom-modal-'+e+'-content"></div><div class="custom-modal-action custom-modal-'+e+'-action"></div>',Y.style.visibility="hidden",n.appendChild(q),n.appendChild(Y),B.setTimeout(function(){var e=Y.offsetWidth,t=Y.offsetHeight;Y.style.position="absolute",Y.style.top="50%",Y.style.left="50%",Y.style.zIndex="9999",Y.style.marginTop=l-t/2+"px",Y.style.marginLeft=0-e/2+"px",Y.style.visibility="",Y.offsetTop<0&&(Y.style.top=0,Y.style.marginTop=0),Y.offsetLeft<0&&(Y.style.left=0,Y.style.marginLeft=0)},10),"function"==typeof t&&t(q,Y)},z.close=function(e){if(q&&A.body.removeChild(q),Y&&A.body.removeChild(Y),e&&e!==!1){var t=X();J(t.start,t.end)}},z.prompt=function(e,t,n,l){z.modal("prompt",function(i,r){var o=function(e){"function"==typeof l?(z.close(),l(e)):z.close(!0)},c=A.createElement("input");c.type="text",c.value=t,c.onkeyup=function(e){n?13==e.keyCode&&""!==this.value&&this.value!==t&&o(this.value):13==e.keyCode&&o(this.value==t?"":this.value)};var a=A.createElement("button");a.innerHTML=tt.buttons.ok,a.onclick=function(){n?""!==c.value&&c.value!==t&&o(c.value):o(c.value==t?"":c.value)};var u=A.createElement("button");u.innerHTML=tt.buttons.cancel,u.onclick=function(){z.close(!0)},r.children[0].innerHTML=e?e:"",r.children[1].appendChild(c),r.children[2].appendChild(a),r.children[2].appendChild(A.createTextNode(" ")),r.children[2].appendChild(u),B.setTimeout(function(){c.select()},10)})},z.alert=function(e,t,n){z.modal("alert",function(l,i){var r=A.createElement("button");r.innerHTML=tt.buttons.ok,r.onclick=function(){"function"==typeof n?(z.close(),n()):z.close(!0)},i.children[0].innerHTML=e?e:"",i.children[1].innerHTML=t?t:"",i.children[2].appendChild(r)})},z.confirm=function(e,t,n){z.modal("confirm",function(l,i){var r=A.createElement("button");r.innerHTML=tt.buttons.ok,r.onclick=function(){void 0===n?z.close(!0):"function"==typeof n.OK?(z.close(),n.OK()):z.close(!0)};var o=A.createElement("button");o.innerHTML=tt.buttons.cancel,o.onclick=function(){return void 0===n?z.close(!0):"function"==typeof n.CANCEL?(z.close(),n.CANCEL()):z.close(!0),!1},i.children[0].innerHTML=e?e:"",i.children[1].innerHTML=t?t:"",i.children[2].appendChild(r),i.children[2].appendChild(A.createTextNode(" ")),i.children[2].appendChild(o)})},z.scroll=function(e,t){"number"==typeof e?G.scrollTop=e:G.scrollTop+=parseInt(l(G,"line-height"),10),"function"==typeof t&&t()},z.time=function(e){var t=new Date,n=t.getFullYear(),l=t.getMonth()+1,i=t.getDate(),r=t.getHours(),o=t.getMinutes(),c=t.getSeconds(),a=t.getMilliseconds();10>l&&(l="0"+l),10>i&&(i="0"+i),10>r&&(r="0"+r),10>o&&(o="0"+o),10>c&&(c="0"+c),10>a&&(a="0"+a);var u={Y:""+n,m:""+l,d:""+i,H:""+r,i:""+o,s:""+c,u:""+a};return void 0!==e?u[e]:u},tt.toolbar&&(nt.className=tt.toolbarClass,G.parentNode.insertBefore(nt,"before"==tt.toolbarPosition?G:null));var ot=A.createElement("a");ot.href="#esc:"+(new Date).getTime(),ot.style.width=0,ot.style.height=0,G.parentNode.appendChild(ot),z.button=function(e,t){if(t=t||{},t.title!==!1){var n=A.createElement("a");if(n.className=tt.buttonClassPrefix+e,n.href="#"+e.replace(" ",":").replace(/[^a-z0-9\:]/gi,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),n.setAttribute("tabindex",-1),n.innerHTML=t.text?t.text.replace(/%s/g,e):'<i class="'+tt.iconClassPrefix+e+'"></i>',n.onclick=function(e){return"function"==typeof t.click?(t.click(e,z),tt.click(e,z,this.hash.replace("#","")),!1):void 0},t.title&&(n.title=t.title),t.position){var l=t.position<0?t.position+nt.children.length+1:t.position-1;nt.insertBefore(n,nt.children[l])}else nt.appendChild(n)}},K.toggle=function(e,t,n,l){var i=X();if(i.before.slice(-e.length)!=e&&i.after.slice(0,t.length)!=t)et(e,t,0===i.value.length&&l?function(){W(/^.*$/,l===!0?tt.placeholders.text:l)}:1);else{var r=i.before.slice(-e.length)==e?i.before.slice(0,-e.length):i.before,o=i.after.slice(0,t.length)==t?i.after.slice(t.length):i.after;G.value=r+i.value+o,J(r.length,r.length+i.value.length,Z)}"function"==typeof n&&n()};var ct=K.toggle,at=0,ut=tt.buttons;if("object"==typeof ut){var st={bold:{title:ut.bold,click:function(){var e=tt.STRONG;ct("<"+e+">","</"+e.split(" ")[0]+">",1,!0)}},italic:{title:ut.italic,click:function(){var e=tt.EM;ct("<"+e+">","</"+e.split(" ")[0]+">",1,!0)}},underline:{title:ut.underline,click:function(){var e=tt.U;ct("<"+e+">","</"+e.split(" ")[0]+">",1,!0)}},strikethrough:{title:ut.strike,click:function(){var e=z.time(),t=tt.STRIKE;t=t.replace(/%Y/g,e.Y).replace(/%m/g,e.m).replace(/%d/g,e.d).replace(/%H/g,e.H).replace(/%i/g,e.i).replace(/%s/g,e.s).replace(/%u/g,e.u),ct("<"+t+">","</"+t.split(" ")[0]+">",1,!0)}},code:{title:ut.code,click:function(){var e=X().value,t=tt.CODE,n=tt.PRE,l=t.split(" ")[0],i=n.split(" ")[0],r=-1===e.indexOf("\n"),o=r?"<"+t+">":"<"+n+"><"+t+">",c=r?"</"+l+">":"</"+l+"></"+i+">";if(e.length>0){var u=X(),s=u.before,f=u.after,p=u.value,d=a(l),g=a(i);s.match(RegExp("(<"+g+"(>| .*?>))?<"+d+"(>| .*?>)$"))&&f.match(RegExp("^<\\/"+d+">(<\\/"+g+">)?"))?(s=s.replace(RegExp("(<"+g+"(>| .*?>))?<"+d+"(>| .*?>)$"),""),f=f.replace(RegExp("^<\\/"+d+">(<\\/"+g+">)?"),""),tt.autoEncodeHTML&&(p=p.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")),G.value=s+p+f,J(s.length,s.length+p.length,Z)):(tt.autoEncodeHTML&&(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),G.value=s+o+p+c+f,J(s.length+o.length,s.length+p.length+o.length,Z))}else ct(o,c,1,!0)}},paragraph:{title:ut.paragraph,click:function(){var e=X().value,t=tt.P,n=t.split(" ")[0],l=a(n);e.length>0?RegExp("^<"+l+"(>| .*?>)|<\\/"+l+">$").test(e)?W(RegExp("<"+l+"(>| .*?>)([\\s\\S]*?)<\\/"+l+">","g"),"$2"):(W(/^/,"<"+t+">",V),W(/$/,"</"+n+">",V),W(/\n/g,"</"+n+">\n<"+t+">",V),W(RegExp("<"+n+"(>| .*?>)<\\/"+n+">","g"),"",V),W(RegExp("(<"+n+"(>| .*?>))+","g"),"$1",V),W(RegExp("(<\\/"+n+">)+","g"),"$1")):ct("<"+t+">","</"+n+">")}},"quote-right":{title:ut.quote,click:function(){var e=X(),t=tt.QUOTE,n=tt.BLOCKQUOTE;0===e.start||e.before.match(/\n$/)?ct("<"+n+">","</"+n.split(" ")[0]+">",1,!0):e.before.match(RegExp("<"+n.split(" ")[0]+"(>| .*?>)$"))?ct("<"+n+">","</"+n.split(" ")[0]+">",1,!0):ct("<"+t+">","</"+t.split(" ")[0]+">",1,!0)}},header:{title:ut.heading,click:function(){var e,t,n,l=X(),i=tt.H_,u=i.split(" ")[0],s=a(u).replace(/%d/g,"[1-6]"),f=tt.P,p=f.split(" ")[0],d=a(p),g="<\\/?(?:"+s+"|"+d+")(>| .*?>)",h=c(l.before.replace(RegExp(g+"$"),"")).length>0?"\n\n":"",m=c(l.before.replace(RegExp(g+"$","g"),"")),v=r(l.value.replace(RegExp("^"+g+"|"+g+"$","g"),"").replace(/\n+/g," ")),x=o(l.after.replace(RegExp("^"+g,"g"),"")),b=l.value.match(RegExp("^"+g))?RegExp("^"+g).exec(l.value):RegExp(g+"$").exec(l.before);if(b=b?b[1]:">",at=6>at?at+1:0,l.value.length>0)l.before.match(RegExp(g+"$"))?(n=u.replace(/%d/g,at),G.value=m+h+"<"+(at>0?n:p)+b+v+"</"+(at>0?n:p)+">\n\n"+x,e=m.length+h.length+1+(at>0?n.length:p.length)+b.length):(t=i.replace(/%d/g,at),n=u.replace(/%d/g,at),G.value=m+h+"<"+(at>0?t:f)+b+v+"</"+(at>0?n:p)+">\n\n"+x,e=m.length+h.length+1+(at>0?t.length:f.length)+b.length),J(e,e+v.length,Z);else{var k=tt.placeholders.heading_text;i=i.replace(/%d/g,1),u=u.replace(/%d/g,1),at=1,G.value=c(l.before)+h+"<"+i+">"+k+"</"+u+">\n\n"+o(l.after),e=c(l.before).length+h.length+1+i.length+1,J(e,e+k.length,Z)}}},link:{title:ut.link,click:function(){var e,t,n=X(),l=tt.A,i=l.split(" ")[0],r=tt.placeholders.link_text;z.prompt(tt.prompts.link_url_title,tt.prompts.link_url,!0,function(o){t=o,z.prompt(tt.prompts.link_title_title,tt.prompts.link_title,!1,function(o){e=o,et("<"+l+' href="'+t+'"'+(""!==e?' title="'+e+'"':"")+">","</"+i+">",0===n.value.length?function(){W(/^/,r)}:1)})})}},image:{title:ut.image,click:function(){z.prompt(tt.prompts.image_url_title,tt.prompts.image_url,!0,function(e){var t=X(),n=c(t.before),l=o(t.after),i=n.length>0?"\n\n":"",r=tt.emptyElementSuffix,a=decodeURIComponent(e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")).replace(/[-+._]+/g," ")).toLowerCase().replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()});a=-1===a.indexOf("/")&&-1!==e.indexOf(".")?a:tt.placeholders.image_alt,G.value=n+i+"<"+tt.IMG+' alt="'+a+'" src="'+e+'"'+r+"\n\n"+l,J(n.length+i.length+1+tt.IMG.length+6+a.length+7+e.length+1+r.length+2,Z)})}},"list-ol":{title:ut.ol,click:function(){u(tt.OL,tt.placeholders.list_ol_text)}},"list-ul":{title:ut.ul,click:function(){u(tt.UL,tt.placeholders.list_ul_text)}},superscript:{title:ut.superscript,click:function(){var e=tt.SUP;ct("<"+e+">","</"+e.split(" ")[0]+">",1,!0)}},subscript:{title:ut.subscript,click:function(){var e=tt.SUB;ct("<"+e+">","</"+e.split(" ")[0]+">",1,!0)}},"ellipsis-h":{title:ut.rule,click:function(){var e=X(),t=c(e.before),n=o(e.after),l=t.length>0?"\n\n":"",i=tt.HR,r=tt.emptyElementSuffix;G.value=t+l+"<"+i+r+"\n\n"+n,J(t.length+l.length+1+i.length+r.length+2,Z)}},undo:{title:ut.undo,click:function(){K.undo()}},repeat:{title:ut.redo,click:function(){K.redo()}}};for(var ft in st)z.button(ft,st[ft])}G.oncut=function(){B.setTimeout(Z,1)},G.onpaste=function(){B.setTimeout(Z,1)},G.onkeydown=function(e){var t=X(),n=t.before,l=t.value,r=t.after,o=t.start,c=t.end,u=e.keyCode,A=e.ctrlKey,D=e.shiftKey,q=e.altKey,Y=9==u;B.setTimeout(function(){tt.keydown(e,z)},1);var et=n,nt=r[0],at="\\"==et.slice(-1);if(-1!==et.indexOf("(")&&D&&48==u&&")"==nt&&!at||-1!==et.indexOf("{")&&D&&221==u&&"}"==nt&&!at||-1!==et.indexOf("[")&&221==u&&"]"==nt&&!at||-1!==et.indexOf('"')&&D&&222==u&&'"'==nt&&!at||-1!==et.indexOf("'")&&!D&&222==u&&"'"==nt&&!at||-1!==et.indexOf("`")&&!D&&192==u&&"`"==nt&&!at||-1!==et.indexOf("<")&&D&&190==u&&">"==nt&&!at)return J(c+1),!1;if(D&&57==u&&!at)return i("("+l+")",t);if(D&&219==u&&!at)return i("{"+l+"}",t);if(!D&&219==u&&!at)return i("["+l+"]",t);if(D&&222==u&&!at)return i('"'+l+'"',t);if(!D&&222==u&&!at)return i("'"+l+"'",t);if(!D&&192==u&&!at)return i("`"+l+"`",t);if(D&&188==u&&!at)return i("<"+l+">",t);if(D&&Y)return F(tt.tabSize),!1;if(Y){if(n.match(/<[^\/>]*?$/)&&">"==r[0]){var ut=/<([^\/>]*?)$/.exec(n);return G.value=n+" "+l+"></"+ut[1].split(" ")[0]+r,J(o+1,Z),!1}return Q(tt.tabSize),!1}if(A&&90==u)return K.undo(),!1;if(A&&89==u||A&&82==u)return K.redo(),!1;if(tt.shortcut){if(A&&66==u)return st.bold.click(),!1;if(A&&73==u)return st.italic.click(),!1;if(A&&81==u)return st["quote-right"].click(),!1;if(A&&72==u)return st.header.click(),!1;if(A&&76==u)return st.link.click(),!1;if(A&&71==u)return st.image.click(),!1}if(13==u){if(q&&0===l.length)return j(N),!1;if(A)return st.paragraph.click(),!1;if(D)return j("<"+tt.BR+tt.emptyElementSuffix+"\n"),z.scroll(),!1;var ft=tt.LI.split(" ")[0];if(n.match(RegExp("<\\/"+rt+">$"))){var ut=RegExp("(?:^|\\n)([\\t ]*)<"+rt+"(>| .*?>).*?<\\/"+rt+">$").exec(n);return j("\n"+ut[1]+"<"+ft+ut[2]+"</"+ft+">",function(){J(c+ut[1].length+ut[2].length+4,Z)}),z.scroll(),!1}if(r.match(RegExp("^<\\/"+rt+">"))&&">"!=n.slice(-1)){var ut=RegExp("(?:^|\\n)([\\t ]*)<"+rt+"(>| .*?>).*$").exec(n);return j("</"+ft+">\n"+ut[1]+"<"+ft+ut[2]),z.scroll(),!1}var pt=tt.P.split(" ")[0];if(r.match(RegExp("^<\\/"+it+">"))){var ut=RegExp("(?:^|\\n?)([\\t ]*)<"+it+"(>| .*?>).*$").exec(n);return j("</"+pt+">\n"+ut[1]+"<"+pt+ut[2]),z.scroll(),!1}var dt=RegExp("(?:^|\\n)(("+lt+")+)(.*?)$").exec(n),gt=dt?dt[1]:"";return n.match(/[\(\{\[]$/)&&r.match(/^[\]\}\)]/)||n.match(/<[^\/>]*?>$/)&&r.match(/^<\//)?(j("\n"+gt+tt.tabSize+"\n"+gt,function(){J(o+gt.length+tt.tabSize.length+1,Z)}),z.scroll(),!1):(j("\n"+gt),z.scroll(),!1)}var ht={"'":f,'"':d,"---":h,"--":g,"...":m,"|":v,"(c)":x,"(C)":x,"(p)":b,"(P)":b,"(sm)":k,"(SM)":k," sm":k," SM":k,"(tm)":y,"(TM)":y," tm":y," TM":y,"(r)":E,"(R)":E,"+-":C,"-+":C,"/":_,"^":L,"<<":O,">>":R,"<":T,">":$,"<=":H,">=":M,"!=":S};if(l.length>0){if(q){W(/'([^']*?)'/g,s+"$1"+f,V),W(/"([^"]*?)"/g,p+"$1"+d,V);for(var mt in ht)W(RegExp(a(mt),"g"),ht[mt],V);return Z(),!1}}else{if(q){if(-1!==n.indexOf('"')&&'"'==r[0])return G.value=n.replace(/"([^"]*?)$/,p+"$1")+d+r.slice(1),J(c,Z),!1;if(-1!==n.indexOf("'")&&"'"==r[0])return G.value=n.replace(/'([^']*?)$/,s+"$1")+f+r.slice(1),J(c,Z),!1;if(n.slice(-2).match(/\w'$/i))return G.value=n.slice(0,-1)+f+r,J(c,Z),!1;if(n.match(/\((c|p|sm|tm|r)$/i)&&")"==r[0]){var vt=n.match(/\((sm|tm)$/i)?2:1;return G.value=n.slice(0,-(vt+1))+ht["("+n.slice(-vt).toLowerCase()+")"]+r.slice(vt),J(c-vt,Z),!1}var xt=n.replace(/&lt;/g,"<").replace(/&gt;/g,">"),bt=r.replace(/&lt;/g,"<").replace(/&gt;/g,">");if(-1!==xt.indexOf("<<")&&0===bt.indexOf(">>"))return G.value=n.replace(/(?:<<|&lt;&lt;)([^<]*)$/,O+"$1")+r.replace(/^(?:>>|&gt;&gt;)/,R),J(xt.length-1,Z),!1;if(-1!==xt.indexOf("<")&&0===bt.indexOf(">"))return G.value=n.replace(/(?:<|&lt;)([^<]*)$/,T+"$1")+r.replace(/^(?:>|&gt;)/,$),J(xt.length,Z),!1;for(var mt in ht)if(n.slice(-mt.length)==mt)return G.value=n.slice(0,-mt.length)+ht[mt]+r,J(o-mt.length+1,Z),!1;if(37==u)return j(w),!1;if(38==u)return j(U),!1;if(39==u)return j(I),!1;if(40==u)return j(P),!1}if(8==u){if(n.match(RegExp(lt+"$")))return F(tt.tabSize),!1;if(n.match(/<\/?[^>]*?>$/))return F("</?[^>]*?>",1,!0),!1;switch(n.slice(-1)){case"(":return ct("(",")"),!1;case"{":return ct("{","}"),!1;case"[":return ct("[","]"),!1;case'"':return ct('"','"'),!1;case"'":return ct("'","'"),!1;case"<":return ct("<",">"),!1;case"*":return ct("*","*"),!1;case"_":return ct("_","_"),!1;case"~":return ct("~","~"),!1;case"`":return ct("`","`"),!1;case p:return ct(p,d),!1;case s:return ct(s,f),!1;case O:return ct(O,R),!1;case T:return ct(T,$),!1}}}return 39==u&&r.match(/^<\/.*?>/)?(J(c+r.indexOf(">")+1),!1):27==u?(ot.focus(),!1):void(q||A||D||B.setTimeout(Z,1))},tt.ready(z),z.grip=K,z.grip.config=tt};